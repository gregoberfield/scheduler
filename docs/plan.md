Plan: Build WoW TBC Availability Planner
Build a Flask application for displaying guild-wide player availability across unlimited date ranges with 30-minute time slots, defaulting to next 7 days. Core functionality: user authentication, personal and guild-wide availability views with official WoW class icons from Wowhead, visual timeline showing all characters' availability to facilitate offline group formation. Times stored in UTC with browser-detected timezone for display.

Steps
Scaffold project structure — Create Flask app with folders (app/models/, app/routes/, app/static/css/, app/static/js/, app/static/img/classes/, app/templates/), configuration files (.env.example, .gitignore, requirements.txt, config.py), database initialization script with User, AvailabilitySlot, AggregateSlotCount tables, Flask app factory with blueprints for auth/availability/admin, download official WoW TBC class icons from https://www.wowhead.com/icons?filter=11;1;0 (Warrior, Paladin, Hunter, Rogue, Priest, Shaman, Mage, Warlock, Druid) to app/static/img/classes/

Implement authentication & user management — Build app/routes/auth.py with POST /api/signup (character_name, class, password), POST /api/login, POST /api/logout using Flask-Login and bcrypt, app/routes/user.py with GET /api/me and PUT /api/me for profile updates, app/models/user.py with character_name (unique), class dropdown, roles JSON array (tank/healer/dps multi-select), timezone, password_hash, is_superuser boolean, created_at timestamp, and signup logic auto-promoting first user when User.query.count() == 0

Build availability system — Create app/routes/availability.py with POST /api/availability/bulk accepting [{slot_index, state}] arrays, GET /api/availability?start_slot=&end_slot=&user_id=&class=&role= returning filtered user slots, app/models/availability.py with AvailabilitySlot (user_id FK, slot_index as Unix timestamp / 1800, state 0/1/2, unique constraint on user_id + slot_index), AggregateSlotCount (slot_index PK, available_count, maybe_count), and SQLAlchemy @event.listens_for hooks on after_insert/after_update/after_delete to recalculate aggregate counts on every change

Develop personal availability page — Build app/templates/my_availability.html with Bootstrap date range picker defaulting to today through today+7 days, personal timeline grid showing only logged-in user's slots, app/static/js/availability_editor.js with jQuery drag-and-drop using mousedown/mousemove/mouseup events to paint Available/Maybe/Unavailable across cells, state toggle buttons (Available/Maybe/Unavailable), quick-fill helpers (All Day/Clear/AM/PM), JavaScript Intl.DateTimeFormat().resolvedOptions().timeZone detection sending browser timezone for UTC-to-local conversion

Develop guild timeline & heatmap views — Build app/templates/timeline.html with desktop view as rows per character displaying class icon images and role badges, 30-minute slot columns with sticky date headers and day separators, color-coded cells (green/yellow/gray), hover tooltips showing available characters with classes/roles, filter dropdowns (class/role/confidence), sort options (alphabetical/availability/class), "No availability data" message when slots empty, mobile view as Bootstrap accordion with one card per character and horizontal scrollable timeline, and app/templates/heatmap.html rendering AggregateSlotCount grid with CSS color intensity based on player counts and click navigation to timeline

Implement admin & security — Build app/templates/admin.html restricted by @login_required and @admin_required decorators with user list table and "Promote to Admin" form buttons updating User.is_admin field, GET /api/export/roster generating CSV with character_name, class, roles, timezone columns, Flask-WTF CSRF protection on all POST/PUT endpoints, Flask-Limiter rate limiting (5 signups per hour per IP, 100 availability updates per hour per user), bleach.clean() input sanitization, config.py with environment-based settings for SECRET_KEY/DATABASE_URL, and Dockerfile with python:3.11-slim, gunicorn, and SQLite volume mount